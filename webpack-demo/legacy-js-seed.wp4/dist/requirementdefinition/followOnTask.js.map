{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/requirementdefinition/followOnTask/followOnTaskDefinitionSearchConfig.js","webpack:///./src/requirementdefinition/followOnTask/followOnTaskDefinitionSearchController.js","webpack:///./src/requirementdefinition/followOnTask/followOnTaskDefinitionSearchService.js","webpack:///./src/requirementdefinition/followOnTask/index.js","webpack:///external \"jQuery\""],"names":["FollowOnTaskDefinitionSearchConfig","data","Array","Error","name","limit","minLength","FollowOnTaskDefinitionSearchController","typeAheadId","okButtonId","notFoundMsgId","followOnTaskDefnUuidOuputId","apiUrlId","scope","notFoundMsgEl","$","okBtnEl","typeAheadSearchInputEl","followOnTaskDefnUuidOuputEl","apiUrlEl","length","apiUrl","val","selectedOption","keydown","setTimeout","disableOkBtn","clearSelectedTaskDefinition","initialize","bind","suggestion","displayFollowOn","attr","id","FollowOnTaskDefinitionSearchService","getFollowOnTaskDefinitions","then","taskDefinitions","configureTypeAhead","focus","error","config","each","index","displayValue","typeahead","input","highlight","display","emptyTemplate","source","callback","onClick","typeAheadInputEl","selectionEl","selectedRecord","event","preventDefault","enableOkBtn","setSelectedTaskDefinition","hideLayout","query","suggestionObj","code","configSlotCode","removeClass","removeAttr","addClass","sort","a","b","compareResult","Promise","resolve","reject","ajax","type","url","success","taskDefinitionsResponse","sortedTaskDefinitions","sortTaskDefinitions","err","controller"],"mappings":"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","file":"requirementdefinition/followOnTask.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/requirementdefinition/followOnTask/index.js\");\n","/* global $ */\r\n/**\r\n * It contains all configurations for the type ahead search widget\r\n */\r\nexport default class FollowOnTaskDefinitionSearchConfig {\r\n\r\n   constructor(data) {\r\n      if (!data || !(data instanceof Array)) {\r\n         throw new Error(\"The response data suppose to be in array form\");\r\n      }\r\n\r\n      this.data = data;\r\n\r\n      // The name of the dataset.\r\n      // This will be appended to the class name of the filtered result <div>.\r\n      this.name = 'followOnTaskDefnSearch';\r\n\r\n      // The max number of suggestions to be displayed.\r\n      this.limit = 50;\r\n\r\n      // The minimum character length needed before suggestions start getting rendered.\r\n      this.minLength = 1;\r\n   }\r\n}\r\n","import $ from 'jquery';\r\nimport FollowOnTaskDefinitionSearchConfig from './followOnTaskDefinitionSearchConfig.js';\r\nimport FollowOnTaskDefinitionSearchService from './followOnTaskDefinitionSearchService.js';\r\n\r\n/**\r\n * The button controller that handles ui interactions.\r\n */\r\nexport default class FollowOnTaskDefinitionSearchController {\r\n\r\n   constructor(typeAheadId, okButtonId, notFoundMsgId, followOnTaskDefnUuidOuputId, apiUrlId) {\r\n      let scope = this;\r\n      this.notFoundMsgEl = $(\"#\" + notFoundMsgId);\r\n      this.okBtnEl = $('#' + okButtonId);\r\n      this.typeAheadSearchInputEl = $('#' + typeAheadId);\r\n      this.followOnTaskDefnUuidOuputEl = $('#' + followOnTaskDefnUuidOuputId);\r\n      let apiUrlEl = $(\"#\" + apiUrlId);\r\n\r\n      if (!this.notFoundMsgEl.length > 0) {\r\n         throw new Error(\"Not found message element required\");\r\n      }\r\n\r\n      if (!this.okBtnEl.length > 0) {\r\n         throw new Error(\"Ok button element required\");\r\n      }\r\n\r\n      if (!this.typeAheadSearchInputEl.length > 0) {\r\n         throw new Error(\"Typeahead input element required\");\r\n      }\r\n\r\n      if (!this.followOnTaskDefnUuidOuputEl.length > 0) {\r\n         throw new Error(\"Output followOn task definition UUI input element required\");\r\n      }\r\n\r\n      if (!apiUrlEl.length > 0) {\r\n         throw new Error(\"REST api url element is required\");\r\n      }\r\n\r\n      this.apiUrl = apiUrlEl.val();\r\n      this.selectedOption = '';\r\n\r\n      this.typeAheadSearchInputEl.keydown(function() {\r\n         setTimeout(\r\n            function() {\r\n               if (scope.typeAheadSearchInputEl.val() != scope.selectedOption) {\r\n                  scope.disableOkBtn();\r\n                  scope.clearSelectedTaskDefinition();\r\n               }\r\n            });\r\n      });\r\n\r\n      // bind sibling methods to class instance.\r\n      this.initialize = this.initialize.bind(this);\r\n\r\n   }\r\n\r\n   /**\r\n    * set the id value of the selected task definition to our html input element\r\n    */\r\n   setSelectedTaskDefinition(suggestion) {\r\n      if (suggestion) {\r\n         this.typeAheadSearchInputEl.val(this.displayFollowOn(null, suggestion));\r\n         this.selectedOption = this.typeAheadSearchInputEl.val();\r\n         this.followOnTaskDefnUuidOuputEl.attr('value', suggestion.id);\r\n      }\r\n   }\r\n\r\n   /**\r\n    * clear any selected task definition value in our html input element\r\n    */\r\n   clearSelectedTaskDefinition() {\r\n      this.followOnTaskDefnUuidOuputEl.attr('value', '');\r\n   }\r\n\r\n   /**\r\n    * setup UI elements, fetch task definitions and configure type ahead\r\n    */\r\n   initialize() {\r\n      this.disableOkBtn();\r\n\r\n      try {\r\n         return FollowOnTaskDefinitionSearchService.getFollowOnTaskDefinitions(this.apiUrl).then((taskDefinitions) => {\r\n            this.configureTypeAhead(taskDefinitions);\r\n            // once the typeahead input is initialized, the type field will lost focus, have to\r\n            // manually focus it again.\r\n            this.typeAheadSearchInputEl.focus();\r\n         });\r\n\r\n      }\r\n      catch (error) {\r\n         throw new Error(\"Error while trying to fetch task definitions.\", error);\r\n      }\r\n   }\r\n\r\n   /**\r\n    * configure type ahead with data source and default configuration.\r\n    */\r\n   configureTypeAhead(taskDefinitions) {\r\n      let scope = this;\r\n      let config = new FollowOnTaskDefinitionSearchConfig(taskDefinitions);\r\n\r\n      // create a display value that will allow full text search on full value.\r\n      $.each(config.data, function(index, data) {\r\n         data.displayValue = scope.displayFollowOn(null, data);\r\n      });\r\n\r\n      $.typeahead({\r\n         input: scope.typeAheadSearchInputEl,\r\n         highlight: true,\r\n         name: config.name,\r\n         limit: config.limit,\r\n         minLength: config.minLength,\r\n         display: [\"displayValue\"],\r\n         emptyTemplate: '<div class=\"mx-typeahead-msg-notfound\">' + scope.notFoundMsgEl.val() + '</div>',\r\n         source: {\r\n            data: config.data,\r\n         },\r\n         callback: {\r\n            onClick: function(typeAheadInputEl, selectionEl, selectedRecord, event) {\r\n               event.preventDefault();\r\n               scope.enableOkBtn();\r\n\r\n               // save user selection from the search result.\r\n               scope.setSelectedTaskDefinition(selectedRecord);\r\n               this.hideLayout();\r\n            }\r\n         }\r\n      });\r\n   }\r\n\r\n   // Define how the result is displayed in the dropdown.\r\n   // It will display the result in the format of: task code - configslot code - task name\r\n   displayFollowOn(query, suggestionObj) {\r\n      if (suggestionObj) {\r\n         return suggestionObj.code + \" - \" + suggestionObj.configSlotCode + \" - \" + suggestionObj.name;\r\n      }\r\n   }\r\n\r\n   /**\r\n    * Wrapper to enable our OK button\r\n    */\r\n   enableOkBtn() {\r\n      if (this.okBtnEl) {\r\n         if (this.okBtnEl.attr('originOnClickEvent')) {\r\n            this.okBtnEl.attr('onclick', this.okBtnEl.attr('originOnClickEvent'));\r\n         }\r\n\r\n         if (this.okBtnEl.attr('originTitle')) {\r\n            this.okBtnEl.attr('title', this.okBtnEl.attr('originTitle'));\r\n         }\r\n\r\n         this.okBtnEl.removeClass('disabled');\r\n         this.okBtnEl.removeAttr('disabled');\r\n         this.okBtnEl.removeAttr('originOnClickEvent');\r\n         this.okBtnEl.removeAttr('originTitle');\r\n      }\r\n   }\r\n\r\n   /**\r\n    * Wrapper to disable our OK button\r\n    */\r\n   disableOkBtn() {\r\n      if (this.okBtnEl) {\r\n         // store the button onclick handler and title for future restore\r\n         if (!this.okBtnEl.attr('originOnClickEvent')) {\r\n            this.okBtnEl.attr('originOnClickEvent', this.okBtnEl.attr('onclick'));\r\n         }\r\n\r\n         if (!this.okBtnEl.attr('originTitle')) {\r\n            this.okBtnEl.attr('originTitle', this.okBtnEl.attr('title'));\r\n         }\r\n\r\n         this.okBtnEl.addClass('disabled');\r\n         this.okBtnEl.attr('disabled', 'disabled');\r\n         this.okBtnEl.attr('onclick', false);\r\n         this.okBtnEl.attr('title', '');\r\n      }\r\n   }\r\n\r\n}\r\n","import $ from 'jquery';\r\n\r\n/**\r\n * The service layer, it sends REST API call and pass the response data to controller\r\n */\r\nexport default class FollowOnTaskDefinitionSearchService {\r\n\r\n   static sortTaskDefinitions(taskDefinitions) {\r\n      if (!taskDefinitions || !(taskDefinitions instanceof Array)) {\r\n         throw new Error(\"taskDefinitions expected to be an Array\");\r\n      }\r\n\r\n      return taskDefinitions.sort(function(a, b) {\r\n         let compareResult = (a.code > b.code) ? 1 : ((a.code < b.code) ? -1 : 0);\r\n\r\n         if (compareResult == 0) {\r\n            compareResult = (a.configSlotCode > b.configSlotCode) ? 1 : ((a.configSlotCode < b.configSlotCode) ? -1 : 0);\r\n         }\r\n\r\n         if (compareResult == 0) {\r\n            compareResult = (a.name > b.name) ? 1 : ((a.name < b.name) ? -1 : 0);\r\n         }\r\n         return compareResult;\r\n      });\r\n   }\r\n\r\n   static getFollowOnTaskDefinitions(apiUrl) {\r\n      let scope = this;\r\n      return new Promise(function(resolve, reject) {\r\n         return $.ajax({\r\n            type: \"GET\",\r\n            url: apiUrl,\r\n            success: function(taskDefinitionsResponse) {\r\n               // nice to have: postProcessor hook\r\n               let sortedTaskDefinitions = scope.sortTaskDefinitions(taskDefinitionsResponse);\r\n               return resolve(sortedTaskDefinitions);\r\n            },\r\n            error: function(err) {\r\n               // if error happens with the API call, initialize the widget with an empty array.\r\n               resolve([]);\r\n            }\r\n         });\r\n      });\r\n   }\r\n\r\n}\r\n","import FollowOnTaskDefinitionSearchController from './followOnTaskDefinitionSearchController.js';\n\nlet controller =\n    new FollowOnTaskDefinitionSearchController('idInputTypeaheadFollowOnTaskSearch',\n        'idButtonOk',\n        'idTypeaheadNotFoundMessage',\n        'idFieldFollowOnTaskDefnUuid',\n        'idfollowOnTaskDefinitionRestAPI');\ncontroller.initialize();\n","module.exports = jQuery;"],"sourceRoot":""}